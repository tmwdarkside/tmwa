From 519db56f71f0943aa98a27a32cba5794835c80ab Mon Sep 17 00:00:00 2001
From: necromonger <necromonger@Necromonger.UNIVERSE>
Date: Sun, 23 Jan 2011 04:14:07 +0300
Subject: [PATCH 204/226] recovered original comments in Japanese in file
 ./src/map/npc.c

---
 src/map/npc.c | 156 +++++++++++++++++++++++++++++-----------------------------
 1 file changed, 78 insertions(+), 78 deletions(-)

diff --git a/src/map/npc.c b/src/map/npc.c
index ef8e4bd..e3574de 100644
--- a/src/map/npc.c
+++ b/src/map/npc.c
@@ -52,12 +52,12 @@ struct event_data
     struct npc_data *nd;
     int  pos;
 };
-static struct tm ev_tm_b;       // ï¿½ï¿½ï¿½vï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½p
+static struct tm ev_tm_b;       // æ™‚è¨ˆã‚¤ãƒ™ãƒ³ãƒˆç”¨ 
 
 /*==========================================
- * NPCï¿½Ì–ï¿½ï¿½ï¿½ï¿½ï¿½/ï¿½Lï¿½ï¿½ï¿½ï¿½
+ * NPCã®ç„¡åŠ¹åŒ–/æœ‰åŠ¹åŒ– 
  * npc_enable
- * npc_enable_sub ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½OnTouchï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½s
+ * npc_enable_sub æœ‰åŠ¹æ™‚ã«OnTouchã‚¤ãƒ™ãƒ³ãƒˆã‚’å®Ÿè¡Œ 
  *------------------------------------------
  */
 int npc_enable_sub (struct block_list *bl, va_list ap)
@@ -72,7 +72,7 @@ int npc_enable_sub (struct block_list *bl, va_list ap)
 
     if (bl->type == BL_PC && (sd = (struct map_session_data *) bl))
     {
-        if (nd->flag & 1)       // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
+        if (nd->flag & 1)       // ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ 
             return 1;
 
         char name[51 * sizeof (char)];
@@ -96,7 +96,7 @@ int npc_enable (const char *name, int flag)
         return 0;
 
     if (flag & 1)
-    {                           // ï¿½Lï¿½ï¿½ï¿½ï¿½
+    {                           // æœ‰åŠ¹åŒ– 
         nd->flag &= ~1;
         clif_spawnnpc (nd);
     }
@@ -113,7 +113,7 @@ int npc_enable (const char *name, int flag)
         clif_changeoption (&nd->bl);
     }
     else
-    {                           // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
+    {                           // ç„¡åŠ¹åŒ– 
         nd->flag |= 1;
         clif_clearchar (&nd->bl, 0);
     }
@@ -126,7 +126,7 @@ int npc_enable (const char *name, int flag)
 }
 
 /*==========================================
- * NPCï¿½ğ–¼‘Oï¿½Å’Tï¿½ï¿½
+ * NPCã‚’åå‰ã§æ¢ã™ 
  *------------------------------------------
  */
 struct npc_data *npc_name2id (const char *name)
@@ -135,7 +135,7 @@ struct npc_data *npc_name2id (const char *name)
 }
 
 /*==========================================
- * ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Lï¿½ï¿½ï¿½[ï¿½ÌƒCï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½
+ * ã‚¤ãƒ™ãƒ³ãƒˆã‚­ãƒ¥ãƒ¼ã®ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç† 
  *------------------------------------------
  */
 int npc_event_dequeue (struct map_session_data *sd)
@@ -175,7 +175,7 @@ int npc_delete (struct npc_data *nd)
 }
 
 /*==========================================
- * ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Ì’xï¿½ï¿½ï¿½ï¿½s
+ * ã‚¤ãƒ™ãƒ³ãƒˆã®é…å»¶å®Ÿè¡Œ 
  *------------------------------------------
  */
 int npc_event_timer (int tid __attribute__ ((unused)),
@@ -254,8 +254,8 @@ int npc_timer(int tid,unsigned int tick,int id,int data)	// Added by RoVeRT
 	return 0;
 }*/
 /*==========================================
- * ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½pï¿½ï¿½ï¿½xï¿½ï¿½ï¿½ÌƒGï¿½Nï¿½Xï¿½|ï¿½[ï¿½g
- * npc_parse_script->strdb_foreachï¿½ï¿½ï¿½ï¿½ï¿½Ä‚Î‚ï¿½ï¿½ï¿½
+ * ã‚¤ãƒ™ãƒ³ãƒˆç”¨ãƒ©ãƒ™ãƒ«ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ 
+ * npc_parse_script->strdb_foreachã‹ã‚‰å‘¼ã°ã‚Œã‚‹ 
  *------------------------------------------
  */
 int npc_event_export (void *key, void *data, va_list ap)
@@ -273,7 +273,7 @@ int npc_event_export (void *key, void *data, va_list ap)
         struct event_data *ev;
         char *buf;
         char *p = strchr (lname, ':');
-        // ï¿½Gï¿½Nï¿½Xï¿½|ï¿½[ï¿½gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
+          // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ 
         ev = calloc (sizeof (struct event_data), 1);
         buf = calloc (50, 1);
         if (ev == NULL || buf == NULL)
@@ -302,7 +302,7 @@ int npc_event_export (void *key, void *data, va_list ap)
 }
 
 /*==========================================
- * ï¿½Sï¿½Ä‚ï¿½NPCï¿½ï¿½On*ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½s
+ * å…¨ã¦ã®NPCã®On*ã‚¤ãƒ™ãƒ³ãƒˆå®Ÿè¡Œ 
  *------------------------------------------
  */
 int npc_event_doall_sub (void *key, void *data, va_list ap)
@@ -395,7 +395,7 @@ int npc_event_do_l (const char *name, int rid, int argc, argrec_t * args)
 }
 
 /*==========================================
- * ï¿½ï¿½ï¿½vï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½s
+ * æ™‚è¨ˆã‚¤ãƒ™ãƒ³ãƒˆå®Ÿè¡Œ 
  *------------------------------------------
  */
 int npc_event_do_clock (int tid __attribute__ ((unused)),
@@ -434,7 +434,7 @@ int npc_event_do_clock (int tid __attribute__ ((unused)),
 }
 
 /*==========================================
- * OnInitï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½s(&ï¿½ï¿½ï¿½vï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½n)
+ * OnInitã‚¤ãƒ™ãƒ³ãƒˆå®Ÿè¡Œ(&æ™‚è¨ˆã‚¤ãƒ™ãƒ³ãƒˆé–‹å§‹) 
  *------------------------------------------
  */
 int npc_event_do_oninit (void)
@@ -564,8 +564,8 @@ int npc_do_ontimer (int npc_id, struct map_session_data *sd, int option)
 }
 
 /*==========================================
- * ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½pï¿½ï¿½ï¿½xï¿½ï¿½ï¿½Ìï¿½ï¿½èï¿½ï¿½
- * npc_parse_script->strdb_foreachï¿½ï¿½ï¿½ï¿½ï¿½Ä‚Î‚ï¿½ï¿½ï¿½
+ *  ã‚¿ã‚¤ãƒãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆç”¨ãƒ©ãƒ™ãƒ«ã®å–ã‚Šè¾¼ã¿ 
+ * npc_parse_script->strdb_foreachã‹ã‚‰å‘¼ã°ã‚Œã‚‹ 
  *------------------------------------------
  */
 int npc_timerevent_import (void *key, void *data, va_list ap)
@@ -582,7 +582,7 @@ int npc_timerevent_import (void *key, void *data, va_list ap)
     //+++ need check lname[i]?
     if (sscanf (lname, "OnTimer%d%n", &t, &i) == 1 && lname[i] == ':')
     {
-        // ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Cï¿½xï¿½ï¿½ï¿½g
+          // ã‚¿ã‚¤ãƒãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆ 
         struct npc_timerevent_list *te = nd->u.scr.timer_event;
         int  j, i = nd->u.scr.timeramount;
         if (te == NULL)
@@ -612,7 +612,7 @@ int npc_timerevent_import (void *key, void *data, va_list ap)
 }
 
 /*==========================================
- * ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½s
+ * ã‚¿ã‚¤ãƒãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆå®Ÿè¡Œ 
  *------------------------------------------
  */
 int npc_timerevent (int tid __attribute__ ((unused)),
@@ -644,7 +644,7 @@ int npc_timerevent (int tid __attribute__ ((unused)),
 }
 
 /*==========================================
- * ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Jï¿½n
+ * ã‚¿ã‚¤ãƒãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆé–‹å§‹ 
  *------------------------------------------
  */
 int npc_timerevent_start (struct npc_data *nd)
@@ -675,7 +675,7 @@ int npc_timerevent_start (struct npc_data *nd)
 }
 
 /*==========================================
- * ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½Iï¿½ï¿½
+ * ã‚¿ã‚¤ãƒãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆçµ‚äº† 
  *------------------------------------------
  */
 int npc_timerevent_stop (struct npc_data *nd)
@@ -694,7 +694,7 @@ int npc_timerevent_stop (struct npc_data *nd)
 }
 
 /*==========================================
- * ï¿½^ï¿½Cï¿½}ï¿½[ï¿½lï¿½Ìï¿½ï¿½ï¿½
+ * ã‚¿ã‚¤ãƒãƒ¼å€¤ã®æ‰€å¾— 
  *------------------------------------------
  */
 int npc_gettimerevent_tick (struct npc_data *nd)
@@ -711,7 +711,7 @@ int npc_gettimerevent_tick (struct npc_data *nd)
 }
 
 /*==========================================
- * ï¿½^ï¿½Cï¿½}ï¿½[ï¿½lï¿½Ìİ’ï¿½
+ * ã‚¿ã‚¤ãƒãƒ¼å€¤ã®è¨­å®š 
  *------------------------------------------
  */
 int npc_settimerevent_tick (struct npc_data *nd, int newtimer)
@@ -730,7 +730,7 @@ int npc_settimerevent_tick (struct npc_data *nd, int newtimer)
 }
 
 /*==========================================
- * ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½^ï¿½ï¿½NPCï¿½ï¿½ï¿½ï¿½
+ * ã‚¤ãƒ™ãƒ³ãƒˆå‹ã®NPCå‡¦ç† 
  *------------------------------------------
  */
 int npc_event (struct map_session_data *sd, const char *eventname,
@@ -819,7 +819,7 @@ int npc_event (struct map_session_data *sd, const char *eventname,
         return 1;
     }
     if (nd->flag & 1)
-    {                           // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
+    {                           // ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ 
         npc_event_dequeue (sd);
         return 0;
     }
@@ -871,7 +871,7 @@ int npc_command (struct map_session_data *sd __attribute__ ((unused)),
 }
 
 /*==========================================
- * ï¿½ÚGï¿½^ï¿½ï¿½NPCï¿½ï¿½ï¿½ï¿½
+ * æ¥è§¦å‹ã®NPCå‡¦ç† 
  *------------------------------------------
  */
 int npc_touch_areanpc (struct map_session_data *sd, int m, int x, int y)
@@ -890,7 +890,7 @@ int npc_touch_areanpc (struct map_session_data *sd, int m, int x, int y)
             continue;
 
         if (map[m].npc[i]->flag & 1)
-        {                       // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
+        {                      // ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ 
             f = 0;
             continue;
         }
@@ -955,7 +955,7 @@ int npc_touch_areanpc (struct map_session_data *sd, int m, int x, int y)
 }
 
 /*==========================================
- * ï¿½ß‚ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½ï¿½Ì”ï¿½ï¿½ï¿½
+ * è¿‘ãã‹ã©ã†ã‹ã®åˆ¤å®š 
  *------------------------------------------
  */
 int npc_checknear (struct map_session_data *sd, int id)
@@ -972,13 +972,13 @@ int npc_checknear (struct map_session_data *sd, int id)
         return 1;
     }
 
-    if (nd->class < 0)
+    if (nd->class < 0)  // ã‚¤ãƒ™ãƒ³ãƒˆç³»ã¯å¸¸ã«OK 
         return 0;
 
     if (sd->npc_isservice)
         return 0;
 
-    // ï¿½Gï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½
+     // ã‚¨ãƒªã‚¢åˆ¤å®š 
     if (nd->bl.m != sd->bl.m ||
         nd->bl.x < sd->bl.x - AREA_SIZE - 1
         || nd->bl.x > sd->bl.x + AREA_SIZE + 1
@@ -990,7 +990,7 @@ int npc_checknear (struct map_session_data *sd, int id)
 }
 
 /*==========================================
- * ï¿½Nï¿½ï¿½ï¿½bï¿½Nï¿½ï¿½ï¿½ï¿½NPCï¿½ï¿½ï¿½ï¿½
+ * ã‚¯ãƒªãƒƒã‚¯æ™‚ã®NPCå‡¦ç† 
  *------------------------------------------
  */
 int npc_click (struct map_session_data *sd, int id, int dontCheck)
@@ -1104,7 +1104,7 @@ int npc_buysellsel (struct map_session_data *sd, int id, int type)
         sd->npc_isservice = 0;
         return 1;
     }
-    if (nd->flag & 1)           // ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
+    if (nd->flag & 1)           // ç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹ 
         return 1;
 
     sd->npc_shopid = id;
@@ -1179,11 +1179,11 @@ int npc_buylist (struct map_session_data *sd, int n,
     }
 
     if (z > (double) sd->status.zeny)
-        return 1;               // zenyï¿½sï¿½ï¿½
+        return 1;               // zenyä¸è¶³ 
     if (w + sd->weight > sd->max_weight)
-        return 2;               // ï¿½dï¿½Ê’ï¿½ï¿½ï¿½
+        return 2;               // é‡é‡è¶…é 
     if (pc_inventoryblank (sd) < new)
-        return 3;               // ï¿½ï¿½ï¿½Şï¿½ï¿½ï¿½ï¿½ï¿½
+        return 3;               // ç¨®é¡æ•°è¶…é 
     if (sd->trade_partner != 0)
         return 4;               // cant buy while trading
 
@@ -1199,7 +1199,7 @@ int npc_buylist (struct map_session_data *sd, int n,
             memset (&item_tmp, 0, sizeof (item_tmp));
 
             item_tmp.nameid = item_data->nameid;
-            item_tmp.identify = 1;  // npcï¿½Ì”ï¿½ï¿½Aï¿½Cï¿½eï¿½ï¿½ï¿½ÍŠÓ’ï¿½ï¿½Ï‚ï¿½
+            item_tmp.identify = 1;  // npcè²©å£²ã‚¢ã‚¤ãƒ†ãƒ ã¯é‘‘å®šæ¸ˆã¿ 
 
             if (amount > 1
                 && (item_data->type == 4 || item_data->type == 5
@@ -1217,7 +1217,7 @@ int npc_buylist (struct map_session_data *sd, int n,
         }
     }
 
-    //ï¿½ï¿½ï¿½lï¿½oï¿½ï¿½ï¿½l
+    //å•†äººçµŒé¨“å€¤ 
 /*	if ((sd->status.class == 5) || (sd->status.class == 10) || (sd->status.class == 18)) {
 		z = z * pc_checkskill(sd,MC_DISCOUNT) / ((1 + 300 / itemamount) * 4000) * battle_config.shop_exp;
 		pc_gainexp(sd,0,z);
@@ -1285,7 +1285,7 @@ int npc_selllist (struct map_session_data *sd, int n,
         pc_delitem (sd, item_id, item_list[i * 2 + 1], 0);
     }
 
-    //ï¿½ï¿½ï¿½lï¿½oï¿½ï¿½ï¿½l
+    //å•†äººçµŒé¨“å€¤ 
 /*	if ((sd->status.class == 5) || (sd->status.class == 10) || (sd->status.class == 18)) {
 		z = z * pc_checkskill(sd,MC_OVERCHARGE) / ((1 + 500 / itemamount) * 4000) * battle_config.shop_exp ;
 		pc_gainexp(sd,0,z);
@@ -1308,11 +1308,11 @@ int npc_selllist (struct map_session_data *sd, int n,
 }
 
 //
-// ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÖŒW
+// åˆæœŸåŒ–é–¢ä¿‚ 
 //
 
 /*==========================================
- * ï¿½Ç‚İï¿½ï¿½ï¿½npcï¿½tï¿½@ï¿½Cï¿½ï¿½ï¿½ÌƒNï¿½ï¿½ï¿½A
+ * èª­ã¿è¾¼ã‚€npcãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¯ãƒªã‚¢ 
  *------------------------------------------
  */
 void npc_clearsrcfile ()
@@ -1330,7 +1330,7 @@ void npc_clearsrcfile ()
 }
 
 /*==========================================
- * ï¿½Ç‚İï¿½ï¿½ï¿½npcï¿½tï¿½@ï¿½Cï¿½ï¿½ï¿½Ì’Ç‰ï¿½
+ * èª­ã¿è¾¼ã‚€npcãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ  
  *------------------------------------------
  */
 void npc_addsrcfile (char *name)
@@ -1360,7 +1360,7 @@ void npc_addsrcfile (char *name)
 }
 
 /*==========================================
- * ï¿½Ç‚İï¿½ï¿½ï¿½npcï¿½tï¿½@ï¿½Cï¿½ï¿½ï¿½Ìíœ
+ * èª­ã¿è¾¼ã‚€npcãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤ 
  *------------------------------------------
  */
 void npc_delsrcfile (char *name)
@@ -1390,7 +1390,7 @@ void npc_delsrcfile (char *name)
 }
 
 /*==========================================
- * warpï¿½sï¿½ï¿½ï¿½ï¿½
+ * warpè¡Œè§£æ 
  *------------------------------------------
  */
 int npc_parse_warp (char *w1, char *w2, char *w3, char *w4)
@@ -1403,7 +1403,7 @@ int npc_parse_warp (char *w1, char *w2, char *w3, char *w4)
     char mapname[24], to_mapname[24];
     struct npc_data *nd;
 
-    // ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒÂï¿½ï¿½`ï¿½Fï¿½bï¿½N
+    // å¼•æ•°ã®å€‹æ•°ãƒã‚§ãƒƒã‚¯ 
     if (sscanf (w1, "%23[^,],%d,%d", mapname, &x, &y) != 3 ||
         sscanf (w4, "%d,%d,%23[^,],%d,%d", &xs, &ys, to_mapname, &to_x,
                 &to_y) != 5)
@@ -1470,7 +1470,7 @@ int npc_parse_warp (char *w1, char *w2, char *w3, char *w4)
 }
 
 /*==========================================
- * shopï¿½sï¿½ï¿½ï¿½ï¿½
+ * shopè¡Œè§£æ 
  *------------------------------------------
  */
 static int npc_parse_shop (char *w1, char *w2, char *w3, char *w4)
@@ -1484,7 +1484,7 @@ static int npc_parse_shop (char *w1, char *w2, char *w3, char *w4)
     char mapname[24];
     struct npc_data *nd;
 
-    // ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒÂï¿½ï¿½`ï¿½Fï¿½bï¿½N
+    // å¼•æ•°ã®å€‹æ•°ãƒã‚§ãƒƒã‚¯ 
     if (sscanf (w1, "%23[^,],%d,%d,%d", mapname, &x, &y, &dir) != 4 ||
         strchr (w4, ',') == NULL)
     {
@@ -1601,7 +1601,7 @@ static int npc_parse_shop (char *w1, char *w2, char *w3, char *w4)
 }
 
 /*==========================================
- * NPCï¿½Ìƒï¿½ï¿½xï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½Rï¿½ï¿½ï¿½oï¿½[ï¿½g
+ * NPCã®ãƒ©ãƒ™ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚³ãƒ³ãƒãƒ¼ãƒˆ 
  *------------------------------------------
  */
 int npc_convertlabel_db (void *key, void *data, va_list ap)
@@ -1645,7 +1645,7 @@ int npc_convertlabel_db (void *key, void *data, va_list ap)
 }
 
 /*==========================================
- * scriptï¿½sï¿½ï¿½ï¿½ï¿½
+ * scriptè¡Œè§£æ 
  *------------------------------------------
  */
 static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
@@ -1677,7 +1677,7 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
     }
     else
     {
-        // ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒÂï¿½ï¿½`ï¿½Fï¿½bï¿½N
+        // å¼•æ•°ã®å€‹æ•°ãƒã‚§ãƒƒã‚¯ 
         if (sscanf (w1, "%23[^,],%d,%d,%d", mapname, &x, &y, &dir) != 4 ||
             (strcmp (w2, "script") == 0 && strchr (w4, ',') == NULL))
         {
@@ -1689,7 +1689,7 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
 
     if (strcmp (w2, "script") == 0)
     {
-        // ï¿½Xï¿½Nï¿½ï¿½ï¿½vï¿½gï¿½Ì‰ï¿½ï¿½ï¿½
+          // ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è§£æ 
         srcbuf = (char *) aCalloc (srcsize, sizeof (char));
         if (strchr (first_line, '{'))
         {
@@ -1742,7 +1742,7 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
     }
     else
     {
-        // duplicateï¿½ï¿½ï¿½ï¿½
+        // duplicateã™ã‚‹ 
 
         char srcname[128];
         struct npc_data *nd2;
@@ -1761,14 +1761,14 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
         label_dupnum = nd2->u.scr.label_list_num;
         src_id = nd2->bl.id;
 
-    }                           // end of ï¿½Xï¿½Nï¿½ï¿½ï¿½vï¿½gï¿½ï¿½ï¿½ï¿½
+    }                           // end of ã‚¹ã‚¯ãƒªãƒ—ãƒˆè§£æ 
 
     nd = (struct npc_data *) aCalloc (1, sizeof (struct npc_data));
     nd->u.shop.shop_item = 0;
 
     if (m == -1)
     {
-        // ï¿½Xï¿½Nï¿½ï¿½ï¿½vï¿½gï¿½Rï¿½sï¿½[ï¿½pï¿½Ìƒ_ï¿½~ï¿½[NPC
+             // ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚³ãƒ”ãƒ¼ç”¨ã®ãƒ€ãƒŸãƒ¼NPC 
 
     }
     else if (sscanf (w4, "%d,%d,%d", &class, &xs, &ys) == 3)
@@ -1798,14 +1798,14 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
         nd->u.scr.ys = ys;
     }
     else
-    {                           // ï¿½Nï¿½ï¿½ï¿½bï¿½Nï¿½^NPC
+     {                        		   // ã‚¯ãƒªãƒƒã‚¯å‹NPC 
         class = atoi (w4);
         nd->u.scr.xs = 0;
         nd->u.scr.ys = 0;
     }
 
     if (class < 0 && m >= 0)
-    {                           // ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½^NPC
+     {                           		  // ã‚¤ãƒ™ãƒ³ãƒˆå‹NPC 
         evflag = 1;
     }
 
@@ -1853,7 +1853,7 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
         map_addblock (&nd->bl);
 
         if (evflag)
-        {                       // ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½^
+          {                       // ã‚¤ãƒ™ãƒ³ãƒˆå‹ 
             struct event_data *ev =
                 (struct event_data *) aCalloc (1, sizeof (struct event_data));
             ev->nd = nd;
@@ -1866,16 +1866,16 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
     strdb_insert (npcname_db, nd->exname, nd);
 
     //-----------------------------------------
-    // ï¿½ï¿½ï¿½xï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½Ìï¿½ï¿½ï¿½   
+     // ãƒ©ãƒ™ãƒ«ãƒ‡ãƒ¼ã‚¿ã®æº–å‚™ 
     if (srcbuf)
     {
-        // scriptï¿½{ï¿½Ì‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê‡ï¿½Ìï¿½ï¿½ï¿½
+        // scriptæœ¬ä½“ãŒã‚ã‚‹å ´åˆã®å‡¦ç† 
 
-        // ï¿½ï¿½ï¿½xï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ÌƒRï¿½ï¿½ï¿½oï¿½[ï¿½g
+          // ãƒ©ãƒ™ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ã‚³ãƒ³ãƒãƒ¼ãƒˆ 
         label_db = script_get_label_db ();
         strdb_foreach (label_db, npc_convertlabel_db, nd);
 
-        // ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½È‚ï¿½ï¿½Ì‚Åƒoï¿½bï¿½tï¿½@ï¿½ï¿½ï¿½ï¿½
+          // ã‚‚ã†ä½¿ã‚ãªã„ã®ã§ãƒãƒƒãƒ•ã‚¡è§£æ”¾ 
         free (srcbuf);
         srcbuf = 0;
     }
@@ -1886,12 +1886,12 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
 //      nd->u.scr.label_list=malloc(sizeof(struct npc_label_list)*label_dupnum);
 //      memcpy(nd->u.scr.label_list,label_dup,sizeof(struct npc_label_list)*label_dupnum);
 
-        nd->u.scr.label_list = label_dup;   // ï¿½ï¿½ï¿½xï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½L
+        nd->u.scr.label_list = label_dup;   // ãƒ©ãƒ™ãƒ«ãƒ‡ãƒ¼ã‚¿å…±æœ‰ 
         nd->u.scr.label_list_num = label_dupnum;
     }
 
     //-----------------------------------------
-    // ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½pï¿½ï¿½ï¿½xï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ÌƒGï¿½Nï¿½Xï¿½|ï¿½[ï¿½g
+    // ã‚¤ãƒ™ãƒ³ãƒˆç”¨ãƒ©ãƒ™ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ 
     for (i = 0; i < nd->u.scr.label_list_num; i++)
     {
         char *lname = nd->u.scr.label_list[i].name;
@@ -1902,7 +1902,7 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
         {
             struct event_data *ev;
             char *buf;
-            // ï¿½Gï¿½Nï¿½Xï¿½|ï¿½[ï¿½gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
+               // ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ 
             ev = (struct event_data *) aCalloc (1,
                                                 sizeof (struct event_data));
             buf = (char *) aCalloc (50, sizeof (char));
@@ -1922,7 +1922,7 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
     }
 
     //-----------------------------------------
-    // ï¿½ï¿½ï¿½xï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Cï¿½xï¿½ï¿½ï¿½gï¿½ï¿½ï¿½èï¿½ï¿½
+     // ãƒ©ãƒ™ãƒ«ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã‚¿ã‚¤ãƒãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆå–ã‚Šè¾¼ã¿ 
     for (i = 0; i < nd->u.scr.label_list_num; i++)
     {
         int  t = 0, k = 0;
@@ -1930,7 +1930,7 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
         int  pos = nd->u.scr.label_list[i].pos;
         if (sscanf (lname, "OnTimer%d%n", &t, &k) == 1 && lname[k] == '\0')
         {
-            // ï¿½^ï¿½Cï¿½}ï¿½[ï¿½Cï¿½xï¿½ï¿½ï¿½g
+               // ã‚¿ã‚¤ãƒãƒ¼ã‚¤ãƒ™ãƒ³ãƒˆ 
             struct npc_timerevent_list *te = nd->u.scr.timer_event;
             int  j, k = nd->u.scr.timeramount;
             if (te == NULL)
@@ -1964,7 +1964,7 @@ static int npc_parse_script (char *w1, char *w2, char *w3, char *w4,
 }
 
 /*==========================================
- * functionï¿½sï¿½ï¿½ï¿½ï¿½
+ * functionè¡Œè§£æ 
  *------------------------------------------
  */
 static int npc_parse_function (char *w1, char *w2, char *w3, char *w4,
@@ -1981,7 +1981,7 @@ static int npc_parse_function (char *w1, char *w2, char *w3, char *w4,
 //  struct dbt *label_db;
     char *p;
 
-    // ï¿½Xï¿½Nï¿½ï¿½ï¿½vï¿½gï¿½Ì‰ï¿½ï¿½ï¿½
+     // ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è§£æ 
     srcbuf = (char *) aCalloc (srcsize, sizeof (char));
     char *ptr = strchr (first_line, '{');
     if (ptr)
@@ -2039,7 +2039,7 @@ static int npc_parse_function (char *w1, char *w2, char *w3, char *w4,
 
 //  label_db=script_get_label_db();
 
-    // ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½È‚ï¿½ï¿½Ì‚Åƒoï¿½bï¿½tï¿½@ï¿½ï¿½ï¿½ï¿½
+     // ã‚‚ã†ä½¿ã‚ãªã„ã®ã§ãƒãƒƒãƒ•ã‚¡è§£æ”¾ 
     free (srcbuf);
 
 //  printf("function %s => %p\n",p,script);
@@ -2048,7 +2048,7 @@ static int npc_parse_function (char *w1, char *w2, char *w3, char *w4,
 }
 
 /*==========================================
- * mobï¿½sï¿½ï¿½ï¿½ï¿½
+ * mobè¡Œè§£æ 
  *------------------------------------------
  */
 int npc_parse_mob (char *w1, char *w2, char *w3, char *w4)
@@ -2064,7 +2064,7 @@ int npc_parse_mob (char *w1, char *w2, char *w3, char *w4)
 
     xs = ys = 0;
     delay1 = delay2 = 0;
-    // ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒÂï¿½ï¿½`ï¿½Fï¿½bï¿½N
+    // å¼•æ•°ã®å€‹æ•°ãƒã‚§ãƒƒã‚¯ 
     if (sscanf (w1, "%23[^,],%d,%d,%d,%d", mapname, &x, &y, &xs, &ys) < 3 ||
         sscanf (w4, "%d,%d,%d,%d,%23s", &class, &num, &delay1, &delay2,
                 eventname) < 2)
@@ -2138,7 +2138,7 @@ int npc_parse_mob (char *w1, char *w2, char *w3, char *w4)
 }
 
 /*==========================================
- * ï¿½}ï¿½bï¿½vï¿½tï¿½ï¿½ï¿½Oï¿½sï¿½Ì‰ï¿½ï¿½ï¿½
+ * ãƒãƒƒãƒ—ãƒ•ãƒ©ã‚°è¡Œã®è§£æ 
  *------------------------------------------
  */
 static int npc_parse_mapflag (char *w1, char *w2, char *w3, char *w4)
@@ -2152,7 +2152,7 @@ static int npc_parse_mapflag (char *w1, char *w2, char *w3, char *w4)
     char drop_arg1[16], drop_arg2[16];
     int  drop_per = 0;
 
-    // ï¿½ï¿½ï¿½ï¿½ï¿½ÌŒÂï¿½ï¿½`ï¿½Fï¿½bï¿½N
+    // å¼•æ•°ã®å€‹æ•°ãƒã‚§ãƒƒã‚¯ 
 //  if (    sscanf(w1,"%[^,],%d,%d,%d",mapname,&x,&y,&dir) != 4 )
     if (sscanf (w1, "%23[^,]", mapname) != 1)
         return 1;
@@ -2161,7 +2161,7 @@ static int npc_parse_mapflag (char *w1, char *w2, char *w3, char *w4)
     if (m < 0)
         return 1;
 
-//ï¿½}ï¿½bï¿½vï¿½tï¿½ï¿½ï¿½O
+ //ãƒãƒƒãƒ—ãƒ•ãƒ©ã‚° 
     if (strcmpi (w3, "nosave") == 0)
     {
         if (strcmp (w4, "SavePoint") == 0)
@@ -2428,7 +2428,7 @@ void npc_free (struct npc_data *nd)
 }
 
 /*==========================================
- * ï¿½Iï¿½ï¿½
+ * çµ‚äº† 
  *------------------------------------------
  */
 int do_final_npc (void)
@@ -2480,7 +2480,7 @@ void ev_release (struct dbn *db, int which)
 }
 
 /*==========================================
- * npcï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
+ * npcåˆæœŸåŒ– 
  *------------------------------------------
  */
 int do_init_npc (void)
@@ -2516,7 +2516,7 @@ int do_init_npc (void)
 
             if (line[0] == '/' && line[1] == '/')
                 continue;
-            // ï¿½sï¿½vï¿½ÈƒXï¿½yï¿½[ï¿½Xï¿½ï¿½ï¿½^ï¿½uï¿½Ì˜Aï¿½ï¿½ï¿½Í‹lï¿½ß‚ï¿½
+            // ä¸è¦ãªã‚¹ãƒšãƒ¼ã‚¹ã‚„ã‚¿ãƒ–ã®é€£ç¶šã¯è©°ã‚ã‚‹ 
             for (i = j = 0; line[i]; i++)
             {
                 if (line[i] == ' ')
@@ -2535,7 +2535,7 @@ int do_init_npc (void)
                 else
                     line[j++] = line[i];
             }
-            // ï¿½Åï¿½ï¿½Íƒ^ï¿½uï¿½ï¿½ï¿½Ø‚ï¿½ï¿½Åƒ`ï¿½Fï¿½bï¿½Nï¿½ï¿½ï¿½Ä‚İ‚ÄAï¿½_ï¿½ï¿½ï¿½È‚ï¿½ï¿½Xï¿½yï¿½[ï¿½Xï¿½ï¿½ï¿½Ø‚ï¿½ï¿½ÅŠmï¿½F
+            // æœ€åˆã¯ã‚¿ãƒ–åŒºåˆ‡ã‚Šã§ãƒã‚§ãƒƒã‚¯ã—ã¦ã¿ã¦ã€ãƒ€ãƒ¡ãªã‚‰ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§ç¢ºèª 
             if ((count =
                  sscanf (line, "%1023[^\t]\t%1023[^\t]\t%1023[^\t\r\n]\t%n%1023[^\t\r\n]", w1,
                          w2, w3, &w4pos, w4)) < 3
@@ -2544,7 +2544,7 @@ int do_init_npc (void)
             {
                 continue;
             }
-            // ï¿½}ï¿½bï¿½vï¿½Ì‘ï¿½ï¿½İŠmï¿½F
+               // ãƒãƒƒãƒ—ã®å­˜åœ¨ç¢ºèª 
             if (strcmp (w1, "-") != 0 && strcmpi (w1, "function") != 0)
             {
                 sscanf (w1, "%1023[^,]", mapname);
-- 
2.1.0

